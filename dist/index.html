<!DOCTYPE html>
<html data-bs-theme="dark">
<head>
  <meta charset="UTF-8" />
  <title>Charlzk App Launcher v2</title>
  <link rel="stylesheet" href="./assets/css/main.css" />
  <link rel="stylesheet" href="../node_modules/flexmasonry/dist/flexmasonry.css" />
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="container py-1">
        <a href="#" class="navbar-brand col d-flex justify-content-start animate-to-right">
          <img src="./assets/img/Logo.svg" alt="Logo.svg">
        </a>
        
        <form class="needs-validation col-5 d-flex justify-content-center animate-to-bottom" novalidate>
          <input type="text" id="search" class="form-control" placeholder="Search game or app">
        </form>

        <ul class="navbar-nav d-flex flex-row gap-4 col justify-content-end animate-to-bottom">
          <li class="nav-item">
            <a href="#" class="nav-link active">
              <i class="bi bi-joystick me-2"></i>
              My games
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link" data-bs-target="#settingsModal" data-bs-toggle="modal">
              <i class="bi bi-gear-fill me-2"></i>
              Settings
            </a>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <!-- Settings modal -->
  <div class="modal modal-lg fade" data-bs-backdrop="static" data-bs-keyboard="false" id="settingsModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">Settings</h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <h5 class="mb-3 fw-semibold">Icon Size</h5>
          <div class="d-flex flex-row gap-2 mb-3">
            <button type="button" class="btn btn-primary" onclick="changeIcon(4)">Small</button>
            <button type="button" class="btn btn-primary" onclick="changeIcon(3)">Large</button>
          </div>
          <h5 class="mb-3 fw-semibold">Apps Configuration</h5>
          <div class="mb-3">
            <button type="button" class="btn btn-primary" data-bs-target="#manageAppsModal" data-bs-toggle="modal">Open</button>
          </div>
          <h5 class="mb-3 fw-semibold">Made by Charles Henry Tinoy</h5>
          <div class="d-flex flex-row gap-3 mb-3">
            <a class="text-decoration-none" href="#" onclick="App.openLink('https://www.facebook.com/Charlzk05/')">
              <i class="bi bi-facebook me-1"></i>
              Facebook
            </a>
            <a class="text-decoration-none" href="#" onclick="App.openLink('https://www.instagram.com/charlzk_/')">
              <i class="bi bi-instagram me-1"></i>
              Instagram
            </a>
          </div>
          <div class="d-flex flex-row gap-3 mb-3">
            <a class="text-decoration-none" href="#" onclick="App.openLink('https://x.com/@charliezkierblx')">
              <i class="bi bi-twitter-x me-1"></i>
              Twitter
            </a>
            <a class="text-decoration-none" href="#" onclick="App.openLink('https://github.com/Charliezkie-cloud')">
              <i class="bi bi-github me-1"></i>
              Github
            </a>
          </div>
          <div class="mb-3">
            <a class="text-decoration-none" href="#" onclick="App.openLink('https://github.com/Charliezkie-cloud/Charlzk-App-Launcher-v2')">
              <i class="bi bi-github me-1"></i>
              Charlzk App Launcher v2 (Source Code)
            </a>
          </div>
        </div>
        <div class="modal-footer">
          <small class="opacity-50 fw-light">&copy; 2025 Charlzk App Launcher</small>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Manage app modal -->
  <div class="modal modal-xl fade" data-bs-backdrop="static" data-bs-keyboard="false" id="manageAppsModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">Manage Apps</h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal" data-bs-target="#settingsModal" data-bs-toggle="modal"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3 row">
            <div class="col">
              <button type="button" class="btn btn-primary" id="shortcutsFolderButton">Shortcuts folder</button>
            </div>
            <div class="col d-flex flex-row align-items-center gap-3">
              <div>Category</div>
              <select class="form-select" id="categorySelect">
                <option selected value="All">All</option>
                <option value="OnlineGames">Online games</option>
                <option value="OfflineGames">Offline games</option>
                <option value="Apps">Apps</option>
              </select>
            </div>
          </div>
          <form id="manageAppsForm" class="needs-validation" novalidate>
            <table class="table table-hover">
              <thead>
                <tr>
                  <th scope="col">Name</th>
                  <th scope="col">Description</th>
                  <th scope="col">Shortcut</th>
                  <th scope="col">Banner</th>
                  <th scope="col">Category</th>
                </tr>
              </thead>
            
              <tbody id="manageAppsTable">
                <!-- <tr>
                  <th scope="row">
                    <input type="text" name="name" class="form-control" required>
                  </th>
                  <th>
                    <textarea name="description" class="form-control" style="height: 17px;" required></textarea>
                  </th>
                  <th>
                    <input type="text" name="shortcut" class="form-control" readonly>
                  </th>
                  <th>
                    <input type="text" name="banner" required hidden>
                    <input type="file" class="form-control">
                  </th>
                  <th class="position-relative">
                    <span
                      class="position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"></span>
                    <select class="form-select" name="category">
                      <option selected value="None">None</option>
                      <option value="OnlineGames">Online Games</option>
                      <option value="OfflineGames">Offline Games</option>
                      <option value="Apps">Apps</option>
                    </select>
                  </th>
                </tr> -->
              </tbody>
            </table>
          </form>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary" form="manageAppsForm" data-bs-dismiss="modal" data-bs-target="#settingsModal" data-bs-toggle="modal">Save Changes</button>
        </div>
      </div>
    </div>
  </div>

  <main class="position-fixed h-100 w-100 bg-body">
    <div class="row h-100">
      <div class="col-2 pe-0 animate-to-right">
        <div class="p-4 d-flex flex-column align-items-center gap-4">
          <h1 class="border-bottom w-100 text-center pb-4 animate-to-right">Menu</h1>
          <div class="d-flex flex-column align-items-center gap-3 w-100">
            <button type="button" class="btn btn-primary w-100 animate-to-right d-flex flex-row" id="onlineGamesButton">
              <i class="bi bi-steam"></i>
              <span class="text-center w-100">Online games</span>
            </button>
            <button type="button" class="btn btn-primary w-100 animate-to-right d-flex flex-row" id="offlineGamesButton">
              <i class="bi bi-wifi-off"></i>
              <span class="text-center w-100">Offline games</span>
            </button>
            <button type="button" class="btn btn-primary w-100 animate-to-right d-flex flex-row" id="appsButton">
              <i class="bi bi-app text-center"></i>
              <span class="text-center w-100">Apps</span>
            </button>
          </div>
        </div>
      </div>
      <div class="col ps-0">

        <div id="onlineGames" class="p-4 d-block">
          <h2 class="mb-3 animate-onlineGames">Online Games</h2>
          <div id="onlineGamesList" class="list grid">
            <!-- <div class="item position-relative animate-to-top">
              <img class="background position-absolute w-100 h-100" src="./assets/img/banners/crossfire.webp" alt="crossfire.webp">
              <div class="background-overlay"></div>

              <div class="hover position-absolute w-100 h-100 p-3">
                <p>Lorem Ipsum</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce eu ante mi. Morbi quam nunc, molestie nec tortor nec, tincidunt gravida nisi. Fusce auctor nibh id libero pellentesque maximus.</p>
                <button type="button" class="btn btn-primary fw-semibold px-5 open-btn">Open</button>
              </div>

              <div class="default position-absolute start-0 bottom-0 end-0 px-3 py-2">
                <h3 class="mb-0">Lorem Ipsum</h3>
              </div>
            </div> -->
          </div>
        </div>

        <div id="offlineGames" class="p-4 d-none">
          <h2 class="mb-3 animate-offlineGames">Offline Games</h2>
          <div id="offlineGamesList" class="list grid"></div>
        </div>

        <div id="apps" class="p-4 d-none">
          <h2 class="mb-3 animate-apps">Apps</h2>
          <div id="appsList" class="list grid"></div>
        </div>
        
      </div>
    </div>
  </main>

  <!-- Typescript + Webpack -->
  <script src="./renderer.js"></script>

  <!-- Javascript -->
  <script src="../node_modules/flexmasonry/dist/flexmasonry.js"></script>
  <script>
    window.onload = () => {
      const numCols = window.localStorage.getItem("numCols");

      FlexMasonry.init('.grid', {
        responsive: false,
        numCols: numCols === null ? 3 : numCols
      });

      const search = document.getElementById("search");
      search.addEventListener("input", () => {
        FlexMasonry.refresh(document.getElementById("onlineGamesList"));
        FlexMasonry.refresh(document.getElementById("offlineGamesList"));
        FlexMasonry.refresh(document.getElementById("appsList"));
      });

      document.getElementById("onlineGamesButton").addEventListener("click", () => {
        search.value = "";
        FlexMasonry.refresh(document.getElementById("onlineGamesList"));
      });

      document.getElementById("offlineGamesButton").addEventListener("click", () => {
        search.value = "";
        FlexMasonry.refresh(document.getElementById("offlineGamesList"));
      });

      document.getElementById("appsButton").addEventListener("click", () => {
        search.value = "";
        FlexMasonry.refresh(document.getElementById("appsList"));
      });
      
      initializeInner();
    }

    function changeIcon(size) {
      FlexMasonry.init('.grid', {
        responsive: false,
        numCols: size
      });

      FlexMasonry.refreshAll();
      initializeInner();
      window.localStorage.setItem('numCols', size);
    }

    function initializeInner() {
      const inners = document.getElementsByClassName("inner");
      for (const inner of inners) {
        inner.classList.add("d-block");
      }
    }
  </script>
</body>
</html>